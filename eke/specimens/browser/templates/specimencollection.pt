<html xmlns='http://www.w3.org/1999/xhtml'
    xml:lang='en'
    lang='en'
    xmlns:tal='http://xml.zope.org/namespaces/tal'
    xmlns:metal='http://xml.zope.org/namespaces/metal'
    xmlns:i18n='http://xml.zope.org/namespaces/i18n'
    metal:use-macro='context/main_template/macros/master'
    i18n:domain='eke.specimens'>
    <head>
        <title>Specimen Collection Folder</title>
    </head>
    <body>
        <metal:main fill-slot='main'>
            <tal:main-macro metal:define-macro='main' tal:define='
                haveSets view/haveSpecimenSets;
            '>
                <!-- tal:define='
                    haveSpecimensAtSites view/haveSpecimensAtSites;
                    contents             view/specimensAtSites;
                    kssClassesView       context/@@kss_field_decorator_view;
                    getKssClasses        nocall:kssClassesView/getKssClassesInlineEditable;
                    templateId           template/getId;
                    isManager            python:checkPermission("Manage portal", context);
                    portalURL            context/@@plone_portal_state/portal_url;
                ' -->
                <div tal:replace='structure provider:plone.abovecontenttitle' />
                <h1 class='documentFirstHeading'> 
                    <metal:field use-macro='python:context.widget("title", mode="view")'>
                        Title
                    </metal:field>
                </h1>

                <div tal:replace='structure provider:plone.belowcontenttitle' />
                <p class='documentDescription'>
                    <metal:field use-macro='python:context.widget("description", mode="view")'>Description.</metal:field>
                </p>
                <div tal:replace='structure provider:plone.abovecontentbody' />

                <p tal:replace='structure context/text'>
                    Body Text
                </p>

                <p class='discreet' tal:condition='not:haveSets' i18n:translate='ekeSpecimensSpecColFoldAdominitionNoSets'>
                    There are currently no specimen sets in this collection (yet).
                </p>

                <table class='listing' tal:condition='haveSets' tal:define='sets view/specimenSets'>
                    <thead>
                        <tr>
                            <th i18n:translate='ekeSpecimensSpecColFoldTableHeadingSetName'>Set</th>
                            <th i18n:translate='ekeSpecimensSpecColFoldTableHeadingNumSpecimens'>Number of Specimens</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr tal:repeat='specimenSet sets'>
                            <td>
                                <a href='#' title='A really nifty set of specimens.' tal:content='specimenSet/title'
                                    tal:attributes='href specimenSet/url; title specimenSet/description'>
                                    Nifty Set
                                </a>
                            </td>
                            <td tal:content='specimenSet/specimenCount'>
                                42
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div metal:use-macro='context/document_relateditems/macros/relatedItems'>
                    Any related items
                </div>
                <div tal:replace='structure provider:plone.belowcontentbody' />

            </tal:main-macro>
        </metal:main>
    </body>
</html>
