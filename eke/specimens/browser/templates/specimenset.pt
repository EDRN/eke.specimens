<html xmlns='http://www.w3.org/1999/xhtml'
    xml:lang='en'
    lang='en'
    xmlns:tal='http://xml.zope.org/namespaces/tal'
    xmlns:metal='http://xml.zope.org/namespaces/metal'
    xmlns:i18n='http://xml.zope.org/namespaces/i18n'
    metal:use-macro='context/main_template/macros/master'
    i18n:domain='eke.specimens'>
    <head>
        <title>Specimen Collection Folder</title>
    </head>
    <body>
        <metal:main fill-slot='main'>
            <tal:main-macro metal:define-macro='main'>
                <!-- tal:define='
                    haveSpecimensAtSites view/haveSpecimensAtSites;
                    contents             view/specimensAtSites;
                    kssClassesView       context/@@kss_field_decorator_view;
                    getKssClasses        nocall:kssClassesView/getKssClassesInlineEditable;
                    templateId           template/getId;
                    isManager            python:checkPermission("Manage portal", context);
                    portalURL            context/@@plone_portal_state/portal_url;
                ' -->
                <div tal:replace='structure provider:plone.abovecontenttitle' />

                <h1 tal:condition='context/isERNE' tal:content='context/description' class='documentFirstHeading'>
                    Use the Description instead of the title for ERNE specimen sets.
                </h1>
                <h1 tal:condition='not:context/isERNE' tal:content='context/title' class='documentFirstHeading'>
                    Use the Title for non-ERNE specimen sets
                </h1>
                <div tal:replace='structure provider:plone.belowcontenttitle' />
                <p tal:condition='not:context/isERNE' tal:content='context/description' class='documentDescription'>
                    Use the Description as the Description for non-ERNE specimen sets.
                </p>
                <p tal:condition='context/isERNE' class='documentDescription' i18n:translate='erne'>
                    These specimens are part of the EDRN Specimen System, formerly the EDRN Resource Network Exchange (ERNE).
                </p>
                <div tal:replace='structure provider:plone.abovecontentbody' />

                <div tal:condition='context/shortName'>
                    <label for='parent-fieldname-shortName' i18n:translate='label_shortName'>Short Name:</label>
                    <metal:field use-macro='python:context.widget("shortName", mode="view")'>ANAL-REF</metal:field>
                </div>
                <div>
                    <label for='parent-fieldname-storageType' i18n:translate='label_storageType'>Storage Type:</label>
                    <span id='parent-fieldname-storageType' tal:content='view/storageTypeLabel'>Goop</span>
                </div>
                <div>
                    <label for='parent-fieldname-specimenCount' i18n:translate='label_specimenCount'>Specimen Count:</label>
                    <metal:field use-macro='python:context.widget("specimenCount", mode="view")'>42</metal:field>
                </div>
                <div>
                    <label for='parent-fieldname-numberCases' i18n:translate='label_numberCases'>Number of Cases:</label>
                    <metal:field use-macro='python:context.widget("numberCases", mode="view")'>42</metal:field>
                </div>
                <div>
                    <label for='parent-fieldname-numberControls' i18n:translate='label_numberControls'>Number of Controls:</label>
                    <metal:field use-macro='python:context.widget("numberControls", mode="view")'>42</metal:field>
                </div>
                <div>
                    <label for='parent-fieldname-organs' i18n:translate='label_organs'>Organs:</label>
                    <ul id='parent-fieldname-organs'>
                        <li tal:repeat='organ context/organs'>
                            <span tal:replace='organ'>Anus</span>
                        </li>
                    </ul>
                </div>
                <div>
                    <label for='parent-fieldname-diagnosis' i18n:translate='label_diagnosis'>Diagnosis:</label>
                    <metal:field use-macro='python:context.widget("diagnosis", mode="view")'>With Herpes</metal:field>
                </div>
                <div>
                    <label for='parent-fieldname-protocol' i18n:translate='label_protocol'>Protocol:</label>
                    <metal:field use-macro='python:context.widget("protocol", mode="view")'>TCP/IP</metal:field>
                </div>
                <div tal:condition='context/site|nothing'>
                    <label for='parent-fieldname-site' i18n:translate='label_site'>Site:</label>
                    <metal:field use-macro='python:context.widget("site", mode="view")'>Site Blah</metal:field>
                </div>
                <div tal:condition='context/site|nothing' style='margin-top: 1em;'>
                    <p tal:condition='context/site/principalInvestigator' i18n:translate='ekeSpecimensSharingContact'>
                        Contact <a href='#' i18n:name='pi' tal:attributes='href context/site/principalInvestigator/absolute_url'
                            tal:content='context/site/principalInvestigator/pretty_title_or_id'>
                            Dude Man
                        </a> to obtain these specimens.
                    </p>
                </div>

                <div metal:use-macro='context/document_relateditems/macros/relatedItems'>
                    Any related items
                </div>
                <div tal:replace='structure provider:plone.belowcontentbody' />

            </tal:main-macro>
        </metal:main>
    </body>
</html>
